# [14-4] Observability & regression tooling

[Back to task list](../tasks.md)

## Description
Introduce logging, overlays, and automated tests that surface missing flight animations or unintended feedback, preventing silent regressions.

## Status History
| Timestamp | Event Type | From Status | To Status | Details | User |
| :-- | :-- | :-- | :-- | :-- | :-- |
| 2025-11-02 17:00:00 | Created | N/A | Proposed | Task created to add instrumentation and regression coverage for the refactored pipeline. | ai_agent |

## Requirements
- Provide a developer-visible diagnostics panel or logging hook that reports when the controller falls back or suppresses feedback.
- Add automated test coverage (unit/integration) that fails if flights donâ€™t occur or wiggles misfire.
- Ensure instrumentation can be disabled in production builds without runtime cost.

## Implementation Plan
1. Design a diagnostics API (DevSettings toggle, overlay, or logging module) for flight events.
2. Hook controller and foundation feedback paths into the diagnostics API.
3. Expand automated tests (e.g., Detox/E2E or integration harness) verifying that expected flights occur.
4. Document how to enable diagnostics for QA and future debugging.

## Test Plan
- Unit: Validate diagnostics API reports events when triggered.
- Integration/E2E: Run automated scenario ensuring instrumentation catches suppressed flights.
- Manual: Enable diagnostics in dev build and confirm data reflects real-time gameplay.

## Verification
- Diagnostics tooling documented with screenshots/log samples and automated tests passing before Review.

## Files Modified
- Diagnostics module (new) plus test suites.

