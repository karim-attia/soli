# [4-3] Add foundation arrival glow effect

[Back to task list](../tasks.md)

## Description
Introduce a brief glow or highlight on foundation piles when a card lands to reinforce successful moves without blocking follow-up interactions.

## Status History
| Timestamp | Event Type | From Status | To Status | Details | User |
| :-- | :-- | :-- | :-- | :-- | :-- |
| 2025-11-01 09:22:00 | Created | N/A | Proposed | Task added for foundation glow feedback on card arrival. | ai_agent |
| 2025-11-01 09:59:10 | user_approves | Proposed | Agreed | User approved foundation glow task. | user |

## Requirements
- Display a glow/highlight effect immediately when a card reaches a foundation.
- Keep the effect shorter than 300â€¯ms and non-blocking for user input.
- Ensure glow colors meet accessibility contrast guidance in both light and dark modes.

## Implementation Plan
1. Design a lightweight animated overlay component for foundation piles (e.g., using opacity/scale).
2. Trigger the overlay in the animation completion callback for foundation moves (manual and auto).
3. Allow overlapping glow triggers to reset gracefully when multiple cards land quickly.
4. Confirm the effect respects animation enable/disable settings (future tie-in with PBI-9).
5. Validate performance across platforms.

## Test Plan
- Manual: Move a card to the foundation manually and confirm a quick glow appears.
- Manual: Auto-foundation multiple cards rapidly and ensure glow triggers for each arrival without lag.
- Manual: Toggle animations (once implemented) to verify the glow obeys the global flag.
- `yarn tsc --noEmit`.

## Verification
- Manual confirmation of glow behavior on iOS simulator and web build.
- `yarn tsc --noEmit`.

## Files Modified
- `app/(tabs)/index.tsx`
- `src/solitaire/animation/foundationGlow.ts` (new)

