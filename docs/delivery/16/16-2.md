# [16-2] Gate developer logs behind helper

[Back to task list](../tasks.md)

## Description
Introduce a centralized developer logging helper that respects the persisted developer mode toggle, ensuring verbose logs emit only when explicitly enabled. Replace existing direct `console.*` statements in the application code with this helper so internal testers can access logs even in production builds while keeping player builds quiet by default.

## Status History
| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-11-04 09:40:00 | Created | N/A | Proposed | Defined helper-based developer logging task. | ai_agent |
| 2025-11-04 09:40:30 | Status Change | Proposed | Agreed | User approved logging helper implementation. | user |
| 2025-11-04 09:41:00 | Status Change | Agreed | InProgress | Began work on developer logging helper and integrations. | ai_agent |
| 2025-11-04 10:05:00 | Status Change | InProgress | Review | Logging helper implemented and console usage replaced. | ai_agent |

## Requirements
- Implement a helper that emits logs only when the developer mode setting is enabled.
- Provide an API to update the helperâ€™s enabled state when settings change.
- Replace existing `console.*` usage in the app codebase with the helper.
- Ensure the helper works in production builds where developer mode may be toggled on.

## Implementation Plan
1. Create `devLog` helper utilities (with level support) and an accompanying setter to control logging enablement.
2. Wire the settings provider to update the helper whenever developer mode hydrates or toggles.
3. Replace all `console.*` usages within `app/` and `src/` with the new helper, matching log levels.
4. Verify solver and history modules using CommonJS interop import the helper correctly.

## Test Plan
- Toggle developer mode on/off and confirm logs appear or disappear accordingly in development builds.
- Launch the app with developer mode persisted to `true` and confirm logs emit without rebuilding.
- Manually trigger error paths (e.g., storage failures) and ensure logs respect the helper.
- Exercise the solver module to verify console output routes through the helper.

## Verification
- Manual checks during development; automated tests not required.

## Files Modified
- `src/utils/devLogger.ts`
- `src/state/settings.tsx`
- `src/state/history.tsx`
- `app/(tabs)/index.tsx`
- `app/history.tsx`
- `src/solitaire/klondike_solver_atomic.js`

