# [6-1] Implement celebration animation library

[Back to task list](../tasks.md)

## Description
Create ten distinct celebration animation modes that animate cards across the screen in a classic Solitaire fashion, selectable at random when the player wins.

## Status History
| Timestamp | Event Type | From Status | To Status | Details | User |
| :-- | :-- | :-- | :-- | :-- | :-- |
| 2025-11-01 09:28:00 | Created | N/A | Proposed | Task created to implement randomized celebration animations. | ai_agent |
| 2025-11-01 09:59:40 | user_approves | Proposed | Agreed | User approved celebration animation library task. | user |

## Requirements
- Provide at least ten celebration variants with distinct motion patterns.
- Reuse existing card rendering components to avoid duplicate UI implementations.
- Ensure animations run smoothly at 60fps on target devices.
- Respect animation enable/disable settings once introduced (see PBI-9).

## Implementation Plan
1. Design an animation configuration schema describing trajectories, timing, and looping for each celebration mode.
2. Implement a celebration controller component that orchestrates card replicas detached from the playfield layout.
3. Build ten animation presets (e.g., cascade, fountain, wave) using Reanimated or Tamagui animations.
4. Randomize preset selection upon win, with optional seeding for tests.
5. Profile performance on device, optimizing draw calls and animation counts as needed.

## Test Plan
- Manual: Trigger a win multiple times and confirm different celebration modes appear.
- Performance: Use React Native performance monitor to ensure stable frame rates during celebrations.
- `yarn tsc --noEmit`.
- `yarn test --watch=false` for any new logic helpers.

## Verification
- Manual recordings of representative celebration modes on iOS simulator and web export.
- `yarn tsc --noEmit`.

## Files Modified
- `app/(tabs)/index.tsx`
- `src/solitaire/celebrations/index.ts` (new)

