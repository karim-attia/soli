# [12-3] Submit data to backend endpoint

[Back to task list](../tasks.md)

## Description
Send captured solvable game telemetry to a backend endpoint (stubbed configuration initially) when players opt into sharing.

## Status History
| Timestamp | Event Type | From Status | To Status | Details | User |
| :-- | :-- | :-- | :-- | :-- | :-- |
| 2025-11-01 09:56:00 | Created | N/A | Proposed | Task created to POST solvable game data to the backend. | ai_agent |

## Requirements
- Configure an endpoint URL (environment-driven) for uploads.
- POST payloads containing shuffle ID, telemetry, and basic device metadata.
- Handle failures gracefully with retry or queue behavior.
- Ensure uploads only occur when sharing toggle is enabled and game is solvable.

## Implementation Plan
1. Define TypeScript interfaces for the payload.
2. Implement an upload service using `fetch` or Expo networking utilities with exponential backoff.
3. Integrate with telemetry from Task 12-2, triggering upload on game completion.
4. Provide logging and error handling (queue for later retry if offline).
5. Write integration tests or mocks covering success/failure paths.

## Test Plan
- `yarn test --watch=false` for upload service unit tests.
- Manual: Use mock server or intercept fetch to confirm payload contents.
- `yarn tsc --noEmit`.

## Verification
- Manual validation via mock endpoint capturing requests.
- `yarn test --watch=false`.
- `yarn tsc --noEmit`.

## Files Modified
- `src/services/shuffleShare.ts` (new)
- `src/state/settings.ts`

