# [9-2] Implement animation toggles

[Back to task list](../tasks.md)

## Description
Wire the global animation toggle and per-animation switches into gameplay systems so players can disable all motion or specific effects.

## Status History
| Timestamp | Event Type | From Status | To Status | Details | User |
| :-- | :-- | :-- | :-- | :-- | :-- |
| 2025-11-01 09:41:00 | Created | N/A | Proposed | Task created to connect animation toggles to the game. | ai_agent |
| 2025-11-01 10:00:45 | user_approves | Proposed | Agreed | User approved animation toggles task. | user |

## Requirements
- Provide a master toggle that disables/enables all animations.
- Offer individual toggles (e.g., card flights, foundation glow, celebrations) that respect the master toggle.
- Ensure toggles immediately affect in-progress gameplay where sensible.

## Implementation Plan
1. Define a settings context/store exposing animation preferences.
2. Update card animation hooks to consult the global toggle and per-feature flags.
3. Add controlled Tamagui switches bound to the state in the settings screen.
4. Provide safe defaults for existing sessions (animations on by default).
5. Write unit tests for the settings reducer/context.

## Test Plan
- Manual: Toggle global animations off and confirm card movements instantly appear without animation.
- Manual: Toggle specific features (e.g., foundation glow) while leaving others enabled.
- `yarn test --watch=false` (new reducer/context tests).
- `yarn tsc --noEmit`.

## Verification
- Manual cross-platform validation of animation toggles.
- `yarn test --watch=false`.
- `yarn tsc --noEmit`.

## Files Modified
- `app/(tabs)/index.tsx`
- `app/settings.tsx`
- `src/state/settings.ts` (new)

