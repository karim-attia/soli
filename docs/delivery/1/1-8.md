# 1-8 Klondike solver (deckOrder) + difficulty

[Back to task list](../tasks.md)

## Description
Implement a solver for Klondike (draw-1, unlimited recycles) that accepts a `deckOrder` permutation matching the engineâ€™s `createDeck()` order and returns solvability plus a coarse difficulty. Provide a small Node test harness to run random shuffles.

## Status History
| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-10-26 20:12:00 | Status Change | Proposed | InProgress | Started solver implementation and test harness. | ai-agent |

## Requirements
- Input: `deckOrder: number[]` of length 52 mapping indices of `createDeck()`.
- Rules: draw-1, unlimited recycles; treat stock as unordered availability for playability checks.
- Output: `{ solvable: boolean, difficulty?: 'easy'|'medium'|'hard', stats: { nodes: number, depth: number, timeMs: number } }`.
- Performance: bounded search with pruning and transposition table.

## Implementation Plan
- Mirror move legality from engine; reuse ranks/suits and tableau/foundation rules.
- DFS with move ordering and pruning; transposition set keyed by a canonical state string.
- Difficulty buckets by nodes expanded and solution depth.
- Node script `scripts/solve-klondike.js` to print results for random shuffles.

## Verification
- Run the script on a handful of random shuffles; verify plausible results and timing.

## Files Modified
- `src/solitaire/klondike_solver.js` (new)
- `scripts/solve-klondike.js` (new)
