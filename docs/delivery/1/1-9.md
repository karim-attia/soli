# [1-9] Reduce face-down stack height

[Back to task list](../tasks.md)

## Description
Reduce the vertical space consumed by covered (face-down) cards in tableau columns by halving their stack offset, while keeping the current spacing for uncovered (face-up) cards to preserve tap targets.

## Status History
| Timestamp | Event Type | From Status | To Status | Details | User |
| :-- | :-- | :-- | :-- | :-- | :-- |
| 2025-12-14 00:00:00 | Created | N/A | Proposed | Logged request to reduce face-down tableau stack spacing. | ai_agent |
| 2025-12-14 00:00:01 | user_approves | Proposed | Agreed | User requested halved spacing for covered cards while keeping uncovered spacing. | user |
| 2025-12-14 00:16:00 | start_work | Agreed | InProgress | Started implementing separate face-down vs face-up tableau stack offsets. | ai_agent |
| 2025-12-14 00:19:00 | submit_for_review | InProgress | Review | Implemented per-card tableau offsets so face-down cards use half stack offset while face-up spacing remains unchanged. | ai_agent |

## Requirements
- Keep the current spacing between uncovered (face-up) cards (tap-target friendly).
- Halve the vertical spacing used for covered (face-down) cards so the covered stack consumes less screen height.
- Ensure tableau column height calculations still match the real card positions (no clipping / incorrect measured heights).

## Implementation Plan
1. Compute per-card vertical offsets so face-down cards use a reduced offset, while face-up cards keep the existing offset.
2. Update tableau column height calculation to match the new per-card offsets.
3. Verify selection/drag/tap behavior remains correct for face-up cards.

## Test Plan
- Manual: Verify a column with many face-down cards now consumes ~half the previous vertical area for its covered portion.
- Manual: Verify face-up cards remain comfortably tappable and selection behavior is unchanged.
- `yarn tsc --noEmit`.

## Verification
- Manual: verify columns with many face-down cards take ~half the vertical space for the covered portion; face-up spacing unchanged.
- Note: `yarn tsc --noEmit` is currently failing due to pre-existing TypeScript errors outside the Klondike feature; no new lints in the files touched for this task.

## Files Modified
- `src/features/klondike/components/cards/TableauSection.tsx`
