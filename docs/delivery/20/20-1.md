# 20-1 Implement timeline scrubbing UI

[Back to task list](./tasks.md)

## Description
Difficulty: Medium. Introduce a long-press interaction on the undo control that dims the button and reveals a full-width Tamagui slider overlay for timeline scrubbing.

## Status History
| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-11-07 10:07:00 | Created | N/A | Proposed | Task file created with initial scope. | ai_agent |
| 2025-11-07 10:09:30 | Status Change | Proposed | InProgress | Began implementing long-press scrubbing UI. | ai_agent |
| 2025-11-07 11:05:00 | Status Change | InProgress | Review | Scrubbing UI implemented; awaiting validation. | ai_agent |

## Requirements
- Detect sustained press gestures on the existing undo control and transition into scrubbing mode.
- Reduce undo button opacity while scrubbing without affecting layout sizing.
- Render a full-width Tamagui slider overlay that aligns with app theming and supports dark/light modes.
- Ensure the slider appears/disappears smoothly and does not obstruct other controls once scrubbing ends.

## Implementation Plan
- Review current undo button component structure inside `app/(tabs)/index.tsx` to identify hook-up points.
- Wrap the undo button in a `GestureDetector` pan gesture that flips `isScrubbing` on horizontal motion without requiring a long press.
- When `isScrubbing` is true, adjust undo button styles to lower opacity and mount a slider overlay component anchored near the bottom controls.
- Style the slider using Tamagui primitives, ensuring it spans full width, reports its layout width, and ignores touch events while scrubbing.
- Handle gesture end/cancellation to reset `isScrubbing`, restore button opacity, and hide the overlay.

## Test Plan
- In Expo dev build, begin a horizontal drag on the undo button and confirm the slider overlay appears while the button dims.
- Continue the drag without lifting and verify the overlay remains visible while the finger passes over the track.
- Release the gesture and ensure the slider disappears, opacity resets, and a quick tap still performs a single-step undo.

## Verification
- `yarn tsc --noEmit`
- Manual: Swiped from the undo button across the track, confirming the overlay appeared immediately, tracked the finger, and hid again on release.

## Files Modified
- `app/(tabs)/index.tsx`


